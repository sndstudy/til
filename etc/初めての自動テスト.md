# 初めての自動テスト

https://www.oreilly.co.jp/books/9784873118161/

## 3種類のテスト

- UIテスト
    - エンドツーエンドで動く
    - ユーザと同じ対象を見る
    - 高コストで遅い

- 統合テスト
    - WebサービスとAPIのテスト
    - つながりを見る
    - 詳細さに欠ける
        - どこが壊れているのか判断しづらい

- ユニットテスト
    - 高速
    - 多目的に利用できる
    - 統合部分の確認に弱い

## どのテストを優先すべきか

- UIよりもユニットテストを優先すること
- ユニットテストで埋められない部分を統合テストでカバーすること
- UIテストは限定的に使うこと
- 新しいテストを追加する場合は常にユニットテストでカバーできないか確認すること
- すべてを自動化しようと思わないこと。できる範囲で自動化すること。
    - テストの保守もあるので

## UIテストについて(Web)

- UIテストはエンドツーエンドのスモークテストとして有用
- 操作を記録するツールを用いて行うよりも手で書いたコードのほうが望ましい
    - 機械で記録するとコードが読めなかったりする
    - 少し変更を加えるだけで壊れやすい
- アサーションはHTMLタグを対象にする
- ページの要素を選択するにはCSSセレクタ
- 要素にIDをつけているほうが要素を取得しやすい
- アサーションは要素の存在（疎結合）で検証すること
    - 要素内の値で検証するとテストケースと検証する内容が密結合になってテストが壊れやすくなる

