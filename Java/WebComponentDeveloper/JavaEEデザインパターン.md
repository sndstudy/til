# JavaEEデザインパターン

## MVC(Model-View-Controller)
- Controllers
    - クライアントからのリクエストの受付、ViewとModelの制御を行う
    - Servletが該当する
- View
    - Modelからのデータの受け取り、画面の生成を行う
    - JSPやHTMLが該当する
- Model
    - リクエストに応じたロジックの実装、Viewに対してデータの受け渡しを行う
    - JavaBeansや通所のJavaクラスが該当する
- メリット
    - 役割による分離がされているため、それぞれの独立性が確保される
        - 開発作業の分担が容易になる
    - コンポーネント間の依存関係を最小限に抑えられて他の部分の変更による影響を受けにくい
        - コンポーネントの再利用が容易になる
## Intercepting Filter
- ユースケース
    - エンコーディング形式の確認
    - 認証の確認
        - リクエストをするたびに行いたい処理に効果を発揮する
- FilterManager
    - フィルタ処理を管理する。FilterChainを作成し、処理を開始するプログラム
- FilterChain
    - Filterを連結させる仕組みをもつプログラム
- Filter
    - 独立した処理機能を持つブログラム
- Target
    - クライアントが要求したリソース
- メリット
    - フィルタを処理内容ごとに別コンポーネントで管理することで保守性、拡張性が向上
    - フィルタ自体の柔軟な変更、追加、組み合わせが可能になる
## Front Controller
- 全てのリクエストに対して最初に処理するコンポーネントを**1つ**配置する手法
- FrontController
    - システム内で最初にリクエストを処理するポイント
- ApplicationController
    - アクションとビューを管理するプログラム
- Command
    - リクエストに応じた処理をするアクションを実行するプログラム
- View
    - クライアントに返すビューを作成するプログラム
- メリット
    - 複数のリクエストに共通する制御ロジックを一元管理することができる
    - 制御の一元管理により、不正アクセスチェックなどの保守性が向上する
## Business Delegate
- ビジネスサービスへのアクセスをカプセル化する手法
    - EJBで実装したビジネスロジックを呼び出す際の煩雑な手順を簡単にするもの
- BusinessDelegate
    - ビジネスサービスを制御し、保護するプログラム
- ServiceLocator
    - BusinessServiceコンポーネントを検索する機能の実装をカプセル化するプログラム
- BusinessService
    - EJBオブジェクトといったビジネス層のコンポーネントを提供するプログラム
- メリット
    - Web層のコンポーネントはリモートアクセスを気にすることなくビジネスロジックを呼び出せる
    - ビジネス層のコンポーネントに変更が発生した場合変更の影響範囲をデリゲートで吸収できる
    - デリゲートが用意するメソッドをあらかじめ決めておくことでWeb層とビジネス層の並行開発が可能になる
    - デリゲートにキャッシュ機能を持たせることでパフォーマンスを向上させることができる
## Service Locator
- ビジネスコンポーネントやビジネスサービスのルックアップを実装し、カプセル化する手法
- ServiceLocator
    - ルックアップの複雑さ、ビジネスオブジェクトの生成をカプセル化して単純なインタフェースをクライアントに提供するプログラム
- Cache
    - イニシャルコンテキストオブジェクトやファクトリオブジェクトをキャッシュするプログラム
- InitialContext
    - ターゲットオブジェクトのルックアップ及び生成の処理を開始するための入り口となるプログラム
- Target
    - ビジネスコンポーネント、ビジネスサービスを提供するプログラム
- RegistryService
    - クライアントのサービスプロバイダとして登録されている、サービスまたはコンポーネントへの参照を保持しているレジストリサービスを提供しているプログラム
- メリット
    - サービスのルックアップをカプセル化することで複雑さが抽象化される
    - クライアントコードに影響なくビジネスコンポーネントの追加が可能
    - キャッシュによってパフォーマンスが向上
## Transfer Object
- 層をまたいで複数のデータを転送する手法
- Component
    - クライアントとは別の層にある任意のコンポーネント。データベースアクセスやビジネスロジックなどを実装するプログラム
- Transfer Object
    - 直列可能なPOJOで単一のメソッド呼び出しですべてのデータを転送するメソッドを提供するプログラム
- メリット
    - 1回のメソッド呼び出しで全てのフィールドの値を取得できるためネットワークトラフィックが軽減される
    - 複数のデータの受け渡しが1つのオブジェクトとして行われるため実装が容易になる
