# Linuxの起動とシャットダウン

### 起動するまでの流れ

1. BIOS/UEFIの起動
    - ハードのチェック・初期化を行う
    - 起動デバイスに書き込まれたブートローダを読みだして制御を移す
1. ブートローダ
    - 起動デバイス上からカーネルをメモリ上へ読み込む
1. カーネル
    - メモリの初期化やシステムクロックの設定などを行う
    - 仮のルートファイルシステム（初期RANディスク）をマウントする
1. init/systemdプロセスの起動
    - カーネルから実行される最初のプロセス

### 起動時のイベント確認

- `dmesg`コマンド
    - システム起動時にカーネルがどのような処理を行ったか確認できる

### システムのシャットダウンと再起動

- `shutdown`コマンド
    - システムの終了、再起動ができる
- コマンド例
    - `shutdown -h +5 "hogehoge"`
    - 5分後にシステムをシャットダウンする。メッセージは「hogehoge」

|オプション|説明|
|---|---|
|-h|シャットダウン|
|-r|シャットダウン後に再起動|
|-f|次回起動時にfsckをスキップする|
|-F|次回起動時にfsckを必ず実行する|
|-k|シャットダウンはせず、警告メッセージを通知|
|-c|実行中のシャットダウンをキャンセルする|