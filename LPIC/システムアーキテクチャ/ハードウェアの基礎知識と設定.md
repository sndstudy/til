# ハードウェアの基礎知識と設定

### BIOS

マザーボードや拡張カードに搭載されたフラッシュROMに書き込まれている制御プログラム。

OSやアプリケーションはBIOSのインタフェースを利用してハードウェアにアクセスすることができる。

### デバイス情報の確認

Linuxはハードウェアのアクセスを抽象化する**デバイスファイル**を持っている。

デバイスファイルは**udev**という仕組みで自動的に作成される。

Linuxカーネルが認識しているデバイス情報は`/proc`ディレクトリ以下のファイルで確認できる。

|ファイル名|説明|
|---|---
|/proc/cpuinfo|CPU情報|
|/proc/interrupts|IRQ情報|
|/proc/ioports|I/Oアドレス情報|
|/proc/meminfo|メモリ情報|
|/proc/bus/usb/*|USBデバイス情報|
|/proc/bus/pci/*|PCIデバイス情報|

PCIデバイスの情報を表示するには**lspci**コマンドを使用する。-v -vv で詳細を表示する。

- コマンド例
    - `lspci -vv`

### USBデバイス

- 特徴
    - 最大127台まで接続可能
    - 電源を入れたまま接続、取り外し可能
    - 電源供給可能

ハードウェアを利用するには**デバイスドライバ**が必要。

デバイス固有のデバイスドライバ以外にLinuxに最初から搭載されている汎用のドライバ（**クラスドライバ**）もある。

USBデバイスの情報を表示するには**lsusb**コマンドを使用する。-vで詳細、-tでUSBデバイスの階層構造をツリーで表示する。

- コマンド例
    - `lsusb -t`

### デバイスドライバのロード

ロードされているカーネルモジュールを確認するには**lsmod**コマンドを使用する。

必要なデバイスドライバは通常自動的にロードされるが、手動でロードする場合は**modprode**コマンドを使用する。

- コマンド例
    - `modprode e1000`
    - ネットワークカードのデバイスドライバe1000をロードする

