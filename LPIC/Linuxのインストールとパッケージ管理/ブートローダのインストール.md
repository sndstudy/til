# ブートローダのインストール

ハードディスクなどのストレージからOSを読み込んで起動するプログラムを**ブートローダ**という。

### GRUBのインストール

GRUBは多機能なブートローダ。多くのディストリビューションで使われている

- 特徴
    - 多数のファイルシステムを認識可能
    - シェル機能を搭載し、コマンドによる高度な管理が可能
- インストール
    - `grub-install /dev/sda`
    - /dev/sdaのMBR領域にインストールしている

### GRUB Legacyの設定

設定ファイルは`/boot/grub/menu.lst`

#### 設定パラメータ

|パラメータ|説明|
|---|---|
|timeout|メニューを表示している秒数|
|default|デフォルトで起動するエントリの番号|
|title|メニューに表示されるエントリ名|
|root|ルートデバイスの指定|
|kernel|起動するカーネルイメージファイルと起動オプションの指定|
|makeactive|ルートパーティションをアクティブ化|
|chainloader|指定されたセクタの読み込みと実行|
|hiddenmenu|起動時に選択メニューを表示しない|

### GRUB2の設定

設定ファイルは`/boot/grub/grub.cfg`だが直接ファイルを編集しない。

`/etc/default/grub`で設定をし、`grub-mkconfig`コマンドで生成する。

#### 設定パラメータ

|パラメータ|説明|
|---|---|
|GRUB_TIMEOUT|メニューを表示している秒数|
|GRUB_DEFAULT|メニューがタイムアウトした時のデフォルトOSとして選択されるエントリ|
|GRUB_CMDLINE_LINUX|カーネルに渡される起動オプション|


### ブートオプションの指定

GRUBでブートオプションを指定するには起動時の画面でEキーを押す。

#### ブートオプション

|パラメータ|説明|
|---|---|
|root=デバイス|ルートパーティションとしてマウントするデバイス|
|nousb|USBデバイスを使用しない|
|single|シングルユーザモードで起動|
|1~5|指定したランレベルで起動|
