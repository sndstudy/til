# Developers Summit 2019

## デンソーのMaaS開発～アジャイル開発で顧客との協調・チームビルディング・実装概要～

- 登壇者
  - 佐藤 義永
  - 冨田 進
- mobi-Crewsというサービスを開発
  - 営業車などの車両管理
  - ドライバーの安全運転をサポート(車に通信端末を乗せて、走行距離やドライブレコーダの記録内容を送信する)
  - https://www.denso.com/jp/ja/news/news-releases/2018/20190117-02/
- 技術
  - AWS
    - Elastic BeanStalk など
  - Docker
  - RoR
  - スクラム
  - CircleCI
- 立ち上げフェーズ
  - 2017/12
  - 専用の開発ルームの用意
    - 顧客との対話をする際に周りを気にする必要がない
  - 開発メンバは専任化
    - 複数プロジェクトを掛け持ちしない
  - スクラムコーチ
    - 外部から招き、アドバイスをいただく
  - POの関わり方
    - POが全体の情報の把握・決定権がある状態
    - POに聞けば不明点が解消される状態
  - ホワイトボードの全体レイアウト
    - 左側が将来、右側を現在を表すようなレイアウトにしている
      - バックログ整理用
      - 次Sprintのタスク用
        - Ready、NotReadyかわかるようにしておく
      - 現在のSprintのタスク用
        - 改善タスクを最優先にしている
  - 1週間のタイムボックス
    - 木
      - スプリントレビュー
        - 顧客と交えて、動くものを確認する
      - レトロスペクティブ
      - スプリントプランニング
        - 早くて2h,遅くても3~4h
    - 金~水
      - 朝会
        - 今日のゴールを確認
      - デイリースクラム
        - 問題点があるか確認
      - 夕会
        - 新しい技術、設計共有
    - 水の午後
      - スプリントレビューの準備
        - 顧客に対してどのように伝えたら良いかチーム内で議論
- 顧客巻き込みフェーズ
  - 2018/4
  - 顧客にアジャイル開発を理解してもらう
    - ドキュメントではなく動作するソフトウェアを見せる
    - 開発ルームで一緒に検討
    - 第三者の識者を巻き込む(アジャイルコーチ、外部顧問)
  - 並行バージョン開発はしない
    - 複数顧客向けにソースコードを分けない・ブランチを切らない
      - 複雑度を抑える
    - 機能の切り替えは環境変数で制御する
  - バックエンドとフロントエンドでソースコードを分けない
    - MigrationやRest APIのバージョン間の相違
    - デベロッパーはバック/フロントに分けずに両方を開発する
- 商用テストフェーズ
  - 2018/7
  - 機能追加が発生
  - メンバの追加はどうする?
    - メンバは追加しないのが理想だがそうも言ってられない
  - 複数チーム体制にして拡大して
    - POも増やした
- アジャイル開発を支えるインフラとは
  - インフラ管理の課題
    - 限られたメンバーで保守運用可能なインフラとは
  - 顧客要望に伴って発生したインフラ構成の変更対応
    - 変更に強いインフラとは
  - インフラをどう構築するか
    - インフラのコード化
    - 横展開も可能なインフラのテンプレート化
    - 極力マネージドサービスを使用して運用保守の負担を考慮
  - インフラ構成のポイント
    - インフラ構成はTerraformを使用してコード化
      - 1コマンドでインフラ作成可能
    - インフラの構成をパターン化
      - 構成を限定することで障害発生時の調査時間を短縮
    - アプリケーションのデプロイはElastic Beanstalkを使う
      - 構成管理の手間を減らし、障害発生時にも自動復旧させる仕組みを使う
  - 職場のメンバーの声
    - 今までの開発手法には戻れません
    - 新しい技術に触れ、自分が進化した
    - みんなで作ることがこんなに楽しいとは思っていなかった
    - 問題を一人で抱え込まないでみんなで解決する方式に安心感を覚えた
    - 日々良くなっていくのは気持ちいい
    - スキルマッチより人物マッチが重要。チームが大切
    - 徹底的に無駄を省き、圧倒的に開発に集中できる