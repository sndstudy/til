# JAWS DAYS 2018

## [DeepDive] コンテナでウェイウェイ（仮）西谷圭介 Calvin French-Owen

- なぜコンテナか
    - パッケージング
    - 配布
    - イミュータブルインフラストラクチャ
- ユースケース
    - マイクロサービスアーキテクチャ
    - 非同期ジョブ実行
    - CI CD
        - 開発　テスト　本番まで一貫したイメージを利用
- ECR
    - AWS上でイメージの管理ができる
    - レジストリ
    - DockerHub的なサービス
- ECS
    - Dockerコンテナの管理が可能
    - 数億コンテナが毎週起動
    - ECSだけで50以上の機能がリリースされている
    - AWS上の本番環境のコンテナを支える
    - Task
        - コンテナ群の実行単位
    - Service
        - ロングランニング用のタスクスケジューラ
    - CloudWatchlogsと簡単に連携
    - EC2へのTask配置を柔軟に設定可能
- Fargate
    - EC2の管理すらしたくない
    - アプリ開発に集中したい
        - 上記2つのフィードバックがあってできたサービス
    - インスタンス管理不要
    - ECSの機能が利用可能
    - 課金単位は秒単位
        - CPUとメモリによって決まる
    - Fardateでは難しいところ
        - Windowsコンテナ
        - GPUサポート
            - 上記2つをやりたい場合はEC2
    - FargetとLambdaの使い分け
        - イベントドリブン
        - ms単位
        - ランタイムを管理したくない
        - 分散バッチコンピューティング
            - 上記4つはLambda
- EKS
    - kubernetesのマネージドサービス
- Segmentというサービスの話

## ランチタイムセッション

- F5
    - マネージド型のWAF
- Datadog
    - AWSの運用監視
    - セキュリティやパフォーマンス、可用性、コストなど全てにモニタリング・監視が必要
    - DatadogはAWSのログを分析・可視化できる
        - 情報を一元化することができる

## [Serverless] ユーザー企業におけるサーバレスシステムへの移行 丸本健二郎

- なぜサーバレス
    - 大規模システムはいや
        - システム変更による影響範囲が大きい
        - テストが大きくなる
        - 特定ベンダーでないと回収出来なくなってしまう
    - 密結合がいや
        - 変更がしにくい
        - 疎結合にするには連携部分を切り出す
    - インフラ管理がいや
        - クラウドはハードの管理が不要
        - サーバレスはアプリ開発にのみ注力できる
    - スケールアップはいや
        - ダイソーのデータ量ではスケールアップでは追いつかない
        - 159億レコード
    - システムを小さく、密結合でインフラを持たずスケールアウトしたい
- サーバレス使ってみた
    - POSデータを受ける→貯める→使う
    - tips
        - S3でファイル移動に失敗する
            - ポーリングして移動できていないファイルを確認する
        - ファイル名を意識する
            - ファイル名の先頭にハッシュ値
                - アクセス効率が良くなる
                - AWSのベストプラクティスにもあった
        - SQS
            - クラウドデザインパターン
                - Queuing Chain
                - Fanout
                    - Pub Subの考え方 拡張がしやすい
            - スケーラブル
            - 順番保証されない
                - FIFOキューがある
        - Lambda
        - DymamoDB
            - キャパシティユニット
                - Lambdaで書き込み待ちが発生
                - Lambdaの5分制約でエラー発生
                    - Lambdaの同時実行数を制御することで解決
    - 開発手法
        - コーディングはCloud9
            - ATOMやEclipseはローカルスペックに依存する
        - ソース管理はGitHub
            - ソースレビューも行なっている
            - プルリクでナレッジ共有
                - 他の人のソースも見て勉強したい
                - コミットの粒度を小さくして見やすくしている
        - CIはCircleCIを使用
            - CloudFormation未対応のものがある
                - 最新機能は反映されていない事がある
                    - Lambdaの同時実行数制限など
                - CLIで対応
        - 自動テストは上手くいってない
            - やっぱり工数が跳ね上がる
- 開発してみての感想
    - 苦労したかどうか
        - インフラは10分の１
            - 管理する部分が少なくなったため
        - アプリは2倍
            - サーバレス初だったため
            - 初の部分を除いたら10分の8
                - AWSに制約があるから迷わない

## [Serverless] 実践Serverless x Microservices

https://www.slideshare.net/ssuser9d40ae/microservices-serverless-jawsug-86462235

## [DeepDive] [DeepDive] AWS Japan SA Lightnings!

### 浅野佑貴 発表タイトル：SAVE ON COST!(仮)

- リザーブドインスタンスについて
    - インスタンスタイプを交換する事ができる

### 藤原吉規 発表タイトル：Lamda@Edgeの真の実力が開放されるときが来た！

- Lambda@Edgeとは
    - CloudFront上でLambdaが動く
    - グローバル分散が可能
- デモ
    - 画像をリサイズ

### 福井厚 発表タイトル：Serverless ASP.NET Core 2.0 Applicationを作って見た（仮）

- デモ
    - VSにツールが用意されているので簡単に出来る
- GitHubで公開されている

### 江川大地 発表タイトル：Aurora Storageクイズ

- クイズ
    - 6つのコピーのうち幾つのコピーに障害が起きても読み書きに影響がない
        - 2つまでは影響なし
        - 3つは読み込みのみ可能
    - なぜ6つのコピーなのか
        - AZ障害、二重障害でも書き込み可用性を保つため

### 塚越啓介 発表タイトル：Happy Amplify

- 3分で認証機能作成
    - ペアプロで実装
    - React

### 桐山隼人 発表タイトル：みんなでクラウドセキュリティ

- コミュニティとクラウドセキュリティ
    - ガードデューティ

### 畑史彦 発表タイトル：Amazon Polly と AWS CodeBuild で 自動化されたプレゼンを自動ビルドする

- Polly
    - remark.jsからパースしてPolly APIに流す
- CodeBuildでパース処理をする
- プレゼン資料がコード化されているため多言語化が容易に

### 大村幸敬 発表タイトル：いまCloudFormationについて知っておくべき10のこと

- YAMLを使おう
    - JSONでも書けるが書きやすさはYAML
- JSON YAML変換が可能
- Cross Stack Reference
    - 更新頻度と役割分担でスタックを分ける
- SystemesManagerParameterStore
    - スタック作成時のパラメータとして使用できる
- Drift Detection

- Connect
    - クラウドベースのコンタクトセンター


