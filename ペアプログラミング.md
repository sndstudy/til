# ペアプログラミング

WEB+DB PRESS Vol.102 ペアプロ・モブプロ特集

## ペアプロのロール

- ドライバー
    - キーボードの前にいて、コーディングする人
- ナビゲータ
    - ドライバーの隣に座ってドライバーと話をしながら目標に導く人

## ペアプロ・モブプロの効果

- 作業への集中と質の向上
    - リアルタイムにコードのレビューを行っている
        - レビュー内容が反映されるのが即時なのでコードの質が上がる
    - 常に見られている緊張感
        - コードを綺麗に書こうと思う
        - コーディング規約が守られたコードになる
            - ナビゲータが規約を守られていない箇所を検知して教えることができる
    - 話すことによって考えていることが整理できる
        - 今何を考えているか相手に伝えることで考えが整理できる
        - もし間違った方向に進んでいる場合は教えることができる
    - コードの可読性や保守性の向上
        - 相手のコードやその説明に対して意図を確認する
            - 意図が分かりにくい場合は教えることで改善できる
            - 即時にフィードバックすることができるため吸収しやすい
    - 2人以上の目・脳を使う
        - 軽微なミスの防止
        - 設計の選択肢を広げることができる
- 知識と学びの共有
    - 技術力の底上げと高い教育効果
        - 新人は先輩のソフトの使い方やコードの組み方を学べる
    - 結果だけではなく過程から学ぶ
        - 従来のコードレビューは出来上がったコードに対して行っていた
        - ペアプロはコーディング最中にレビューができるため意図を確認することができる
        - プログラミングの大事な瞬間はコミットとコミットの間
    - コードの共同所有
        - 属人化を防ぐことができる
        - 自分のコードという責任を感じることができる
    - 暗黙知の共有
        - 言語化マニュアル化されていない知識やテクニックを共有することが容易

## なぜ今ペアプロ・モブプロなのか

- コードが事業そのものになった
    - ソフトウェアの成長スピードが事業の成長スピードを左右するようになった
        - 変化に対応できないソフトウェアは死んでしまう
        - 開発の質とスピードを両立し、価値を提供しつつ負債を積み重ねないようにする必要がある
- クラウドがインフラのコスト構造を変えた
    - ハードの初期投資を低減し、同時にセットアップやデプロイの自動化ができるようになった
    - クラウドとDevOpsによってサービスの仮設検証を低コストで開始、常時回せるようになった
- コードレビューを伴う新しい開発スタイルが現れた
    - GitHubの登場
        - GitHubフローなどのブランチ管理モデル
        - GitHub上でプルリクのレビューを通った機能が即時リリースされるモデル（継続的デリバリー）を採用する企業が増えた
- 環境の変化によって現れた新しい問題
    - GitHub時代の新たなボトルネック
        - プルリクのレビュー
        - プルリク差戻し
        - レビュー待ちのプルリク
    - ベテランはコードを書くのをやめてレビューに専念
        - 最も価値を提供できるベテランがコーディングできなくなる
    - レビュー速度をあげるために一つ一つのレビューに費やす時間を減らす
        - 広く深い指摘ができなくなる
    - ペアプロはリアルタイムでレビューをするため書き終わった後はすでにレビュー済みの状態となる
        - コードの完成から即リリースという態勢にできる